# Note that eschen42/ethercalc was built using:
#  - this command: sudo docker build -t eschen42/ethercalc -f ./ethercalc.DockerFile . 
#  - the following ./ethercalc.DockerFile contents:
FROM node:4.4

RUN useradd ethercalc --create-home
RUN npm install -g ethercalc pm2

USER ethercalc
ENV HOME /home/ethercalc
EXPOSE 8000
CMD ["sh", "-c", "REDIS_HOST=$REDIS_PORT_6379_TCP_ADDR REDIS_PORT=$REDIS_PORT_6379_TCP_PORT pm2 start -x `which ethercalc` -- && pm2 logs"]

